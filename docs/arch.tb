graph TB
    subgraph "ESP32 Dual Core Architecture"
        subgraph "CORE 1 (Real-time)"
            CT["CriticalTask<br/>Priority: 4<br/>Frequency: 10ms<br/>ğŸ“ Pump Safety<br/>ğŸ“ Radio Communication<br/>ğŸ“ Input Handling<br/>ğŸ“ Audio Feedback"]
            MT["MonitoringTask<br/>Priority: 3<br/>Frequency: 100ms<br/>ğŸ“ Sensor Monitoring<br/>ğŸ“ RGB Status<br/>ğŸ“ Connection Timeouts<br/>ğŸ“ Power Consumption"]
        end
        
        subgraph "CORE 0 (Background)"
            DT["DisplayTask<br/>Priority: 2<br/>Frequency: 50ms<br/>ğŸ“ OLED Updates<br/>ğŸ“ Menu Rendering<br/>ğŸ“ Message Display"]
            NT["NetworkTask<br/>Priority: 1<br/>Frequency: 1000ms<br/>ğŸ“ Backend Communication<br/>ğŸ“ WebSocket Events<br/>ğŸ“ Motor Commands<br/>ğŸ“ OTA Updates<br/>ğŸ“ EEPROM Saves"]
            ML["Main Loop<br/>ğŸ“ Arduino Core Maintenance<br/>ğŸ“ Minimal CPU Usage"]
        end
    end
    
    subgraph "Synchronization"
        PSM["pumpStateMutex<br/>ğŸ”’ Pump Control"]
        SDM["sensorDataMutex<br/>ğŸ”’ Sensor Data"]
        DM["displayMutex<br/>ğŸ”’ Display Updates"]
        NM["networkMutex<br/>ğŸ”’ Network Operations"]
    end
    
    CT --> PSM
    MT --> SDM
    DT --> DM
    NT --> NM
    NT --> PSM
    
    style CT fill:#ff9999
    style MT fill:#ffcc99
    style DT fill:#99ccff
    style NT fill:#99ff99
    style ML fill:#ffff99
    style PSM fill:#ffcccc
    style SDM fill:#ccffcc
    style DM fill:#ccccff
    style NM fill:#ffffcc